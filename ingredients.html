<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="icon.png" type="image/x-icon">
  <title>World Flavors</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="ingredients.css">
</head>
<body>

<!-- nav bar -->
  <nav class="navbar bg bg-opacity-25 shadow-sm">
    <div class="container-fluid">
       <a class="navbar-brand " href="index.html"><img id="icon" src="icon.png" alt=""/> World FlavorsðŸ¥§</a>
      <div> 
         <button id="btnnav" class="btn ms-3 btn-primary"><i class="fa-solid fa-user "></i></button>
      </div>
      </div>
  </nav>

  <!-- Linking all pages -->
   <a href="index.html"></a>
   <a href="categories.html"></a>
   <a href="dishes.html"></a>
   <a href="ingredients.html"></a>
   <a href="recipegallery.html"></a>

   <!-- Category Buttons -->
  <div id="hbar"></div>

  <!-- body starts... -->
<!-- inside <body>, update the layout section like this: -->
<div class="container-fluid row main">

  <!-- Left content -->
  <div id="box" class="col-md-9 col-12">
    <h1 id="t1"></h1>
    <h2 id="t3"></h2>
    <div class="t row">
      <p id="t4" class="col"></p>
      <img id="t5" class="col" src="" alt="">
    </div>
    <div class="row2 row">
      <div id="t6" class="col t"> <h3>Watch The Process Now</h3></div>
      <div id="ingredient-box" class="col"></div>
    </div>
     <p id="youtube">To Cook with Experts Explore Our Recipe Video Gallery <a id="at" href="recipegallery.html">Click here  <i class="fa-brands  fa-youtube fa-beat" style="color: rgb(189, 12, 12); font-size: xx-large;"></i></a></p>
  </div>

  <!-- Right box (cards) -->
  <div id="right-box" class="col-md-3 col-12 mt-3 mt-md-0">
    <h4 class="text-center" >Visit Food Bloggers Sites</h4>
    <!-- Card 1 -->
    <div class="card mb-3">
      <img src="images/3rd.jpg" class="card-img-top" alt="...">
      <div class="card-body">
        <p class="card-text">Welcome to Food Blogger <a href="https://www.dreamstime.com/photos-image">More about</a></p>
      </div>
    </div>

    <!-- Card 2 -->
    <div class="card mb-3">
      <img src="images/4th.jpg" class="card-img-top" alt="...">
      <div class="card-body">
        <p class="card-text">Food Blogger <a href="https://www.dreamstime.com/photos-images/food-blogger.html">More about</a></p>
      </div>
    </div>

    <!-- Card 3 -->
    <div class="card mb-3">
      <img src="images/1st.jpg" class="card-img-top" alt="...">
      <div class="card-body">
        <p class="card-text">Food Blogger unstoppable <a href="https://www.dreamstime.com/photos-images/food-blogger.html">Watch now</a></p>
      </div>
    </div>

    <!-- Card 4 -->
    <div class="card mb-3">
      <img src="images/7th.jpg" class="card-img-top" alt="...">
      <div class="card-body">
        <p class="card-text">Food Blogger unstoppable <a href="https://www.dreamstime.com/photos-images/food-blogger.html">Watch now</a></p>
      </div>
    </div>
  </div>
</div>

<footer>
<div class="copyright">        
       <p>Copyright @ Pushpanjali.<i class="fa-solid fa-heart" style="color: red;"></i> Made for web-project:: Project name is "World Food Menu"</p>
    </div>
</footer>

</body>
<script>
  const box = document.getElementById("box");
  const rightbox =document.getElementById("right-box");
  const main=document.getElementsByClassName("main ")
  const t1 =document.getElementById("t1");
  const t3 =document.getElementById("t3");
  const t4 =document.getElementById("t4");
  const img =document.getElementById("t5");
  const video =document.getElementById("t6");
  const ingbox = document.getElementById("ingredient-box");

  const fun = async()=>{
  const params = new URLSearchParams(window.location.search);
  const mealId = params.get("mealId");

//element creation...
 const res = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${mealId}`);
      const data = await res.json();
       const obj = data.meals[0];
       console.log(obj);

//adding in div box.........
t1.innerHTML=obj.strMeal;
t3.innerHTML=` ${obj.strArea} (${obj.strCategory})`;
t4.innerHTML=`<h3>Description</h3> ${obj.strInstructions}`;      
 img.src=obj.strMealThumb;

//adding video.........
const videoId = obj.strYoutube.split("v=")[1]; // Extract YouTube video ID
const iframe = document.createElement("iframe");
iframe.width = "405";
iframe.height = "250";
iframe.src = `https://www.youtube.com/embed/${videoId}`;
iframe.allowFullscreen = true;
video.appendChild(iframe)
//extracting strIngredients and its strMeasure......
ingbox.innerHTML="" 
 ingbox.innerHTML=`<h3 class="ihead">Ingredients Details</h3>`
for(i=1;i<=20;i++){
  if((obj[`strIngredient${i}`].length  )>=2 ){
const Ingredient=obj[`strIngredient${i}`];
const measure = obj[`strMeasure${i}`];
ingbox.innerHTML+=`${Ingredient} = ${measure} <br>`
}
else{
  break;
}}}

 // Load categories as animated buttons
    async function categories() {
      const hbar = document.getElementById("hbar");
      const res = await fetch("https://www.themealdb.com/api/json/v1/1/list.php?c=list");
      const data = await res.json();
      let btn=``;
      for (let itm of data.meals) {
        btn += `<button class="animate__animated animate__fadeInUp mybtncolor">
           <a href="dishes.html?c=${encodeURIComponent(itm.strCategory)}">
            ${itm.strCategory}
           </a>
           </button>` 
      }
       hbar.innerHTML=btn;
    }

categories()
fun();
  
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
